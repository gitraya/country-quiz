(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),n=a(7),r=a.n(n),i=(a(12),a(4)),l=a.n(i),u=a(5),o=a(1),j=a(3),b=function(e){return Math.floor(Math.random()*e)},d=function e(t,a){var s=b(t);return a.includes(s)?a.length<t&&e(t,a):(a.push(s),s)},h=function(e,t,a){var s=(e=e.filter((function(e){return""!==e.capital})).filter((function(e){return""!==e.flag})))[b(e.length)],c=s,n=c.capital,r=c.flag;if(!n||!r)return e[b(e.length)];for(var i=[],l=[],u=1;u<=3;u++){var o=d(e.length,l);i.push(e[o].name)}var j=[s.name].concat(i);!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),s=[e[a],e[t]];e[t]=s[0],e[a]=s[1]}}(j),a({question:{capital:s.capital,flag:s.flag},answer:{trueAnswer:s.name,falseAnswer:i},option:j,alfabet:t.alfabet})},f=function(e,t,a,s){switch(e.target.name){case"type":switch(s){case"capital":a(Object(o.a)(Object(o.a)({},t),{},{type:Object(o.a)(Object(o.a)({},t.type),{},{capital:!t.type.capital})}));break;case"flag":a(Object(o.a)(Object(o.a)({},t),{},{type:Object(o.a)(Object(o.a)({},t.type),{},{flag:!t.type.flag})}))}break;case"level":switch(e.target.value){case"VeryEasy":a(Object(o.a)(Object(o.a)({},t),{},{level:5}));break;case"Easy":a(Object(o.a)(Object(o.a)({},t),{},{level:15}));break;case"Normal":a(Object(o.a)(Object(o.a)({},t),{},{level:30}));break;case"Hard":a(Object(o.a)(Object(o.a)({},t),{},{level:65}));break;case"VeryHard":a(Object(o.a)(Object(o.a)({},t),{},{level:100}))}}},m=a(0),p=function(e){var t=e.quizState,a=e.setQuizState,s=e.getQuestion,c=e.setQuizAllType,n=function(e){f(e,t,a)};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(m.jsx)("div",{className:"quiz-card menu",style:t.isTrue||t.isFalse?{paddingBottom:"1rem"}:{},children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=t.type,a=e.capital,n=e.flag;if(!a&&!n)return alert("You must select at least one question type!");a&&n&&c(!0),s()}()},children:[Object(m.jsxs)("div",{className:"form-quiz-type",children:[Object(m.jsx)("h2",{className:"question-text menu",children:"Select the question type?"}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{id:"capital",name:"type",type:"checkbox",defaultChecked:t.type.capital,onChange:function(e){f(e,t,a,"capital")},className:"checkbox-quiz"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"capital",children:"Capital of a country"})]}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{id:"flag",name:"type",type:"checkbox",onChange:function(e){f(e,t,a,"flag")},className:"checkbox-quiz"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"flag",children:"Flag of a country"})]})]}),Object(m.jsxs)("div",{className:"form-quiz-type",children:[Object(m.jsx)("h2",{className:"question-text menu",children:"How many questions do you want to play?"}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"veryeasy",checked:5===t.level,onChange:n,value:"VeryEasy"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"veryeasy",children:"Very Easy (5)"})]}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"easy",checked:15===t.level,onChange:n,value:"Easy"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"easy",children:"Easy (15)"})]}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"normal",checked:30===t.level,onChange:n,value:"Normal"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"normal",children:"Normal (30)"})]}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"hard",checked:65===t.level,onChange:n,value:"Hard"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"hard",children:"Hard (65)"})]}),Object(m.jsxs)("div",{className:"input-control",children:[Object(m.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"veryhard",checked:100===t.level,onChange:n,value:"VeryHard"}),Object(m.jsx)("label",{className:"form-label",htmlFor:"veryhard",children:"Very Hard (100)"})]})]}),Object(m.jsx)("button",{className:"start-button",type:"submit",children:"Start Game"})]})})]})},O=Object(s.forwardRef)((function(e,t){var a=e.answer,s=e.index,c=e.quizQuestion,n=e.quizState,r=e.checkAnswer,i=e.disabled,l="answer-button ".concat(n.isTrue||n.isFalse?"":" ");return Object(m.jsxs)("button",{ref:t,disabled:i,className:l,onClick:function(e){r(e,a)},children:[Object(m.jsxs)("div",{className:"wrap-answer",children:[Object(m.jsx)("span",{className:"alfa-text",children:c.alfabet[s]}),Object(m.jsx)("span",{className:"answer-text",children:a})]}),Object(m.jsx)("i",{class:"material-icons-round",children:n.isTrue?"check_circle_outline":n.isFalse?"highlight_off":""})]},s)})),x=Object(s.forwardRef)((function(e,t){var a=e.checkAnswer,c=e.quizState,n=e.quizQuestion,r=e.getQuestion,i=Object(s.useState)([]),l=Object(j.a)(i,2),u=l[0],o=l[1],b=n.option.map((function(e,t){return Object(m.jsx)(O,{ref:u[t],answer:e,index:t,quizState:c,quizQuestion:n,checkAnswer:a,disabled:c.isTrue||c.isFalse?"disabled":null},t)}));return Object(s.useEffect)((function(){o((function(e){return Array(n.option.length).fill().map((function(t,a){return e[a]||Object(s.createRef)()}))}))}),[n]),Object(s.useImperativeHandle)(t,(function(){return{buttonRefs:u}})),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(m.jsx)("img",{className:"image-onquiz",src:"/country-quiz/images/undraw_adventure_4hum 1.svg",alt:"hero"}),Object(m.jsxs)("div",{className:"quiz-card",style:c.isTrue||c.isFalse?{paddingBottom:"1rem"}:{},children:[Object(m.jsxs)("span",{className:"text-stage",children:[c.stage,"/",c.level]}),c.type.capital?Object(m.jsx)("h2",{className:"question-text",children:"".concat(n.question.capital," is the capital of")}):c.type.flag?Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:n.question.flag,style:{width:"5.5rem",height:"auto",objectPosition:"center",objectFit:"cover"},alt:"flag"}),Object(m.jsx)("h2",{className:"question-text",children:"Which country does this flag belong to?"})]}):"",b,c.isTrue||c.isFalse?Object(m.jsx)("button",{type:"submit",className:"next-button",onClick:r,children:"Next"}):""]})]})})),y=function(e){var t=e.quizState,a=e.resetQuizGame;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(m.jsxs)("div",{className:"quiz-card end",children:[Object(m.jsx)("img",{src:"/country-quiz/images/undraw_winners_ao2o 2.svg",alt:"winners"}),Object(m.jsxs)("div",{className:"win-text",children:[Object(m.jsx)("h1",{children:"Results"}),Object(m.jsxs)("p",{children:["You got ",Object(m.jsx)("span",{className:"score-text",children:t.score})," ","correct answers"]})]}),Object(m.jsx)("button",{className:"try-button",type:"submit",onClick:a,children:"Try again"})]})]})},v=Object(s.forwardRef)((function(e,t){var a=e.quizState,c=e.setQuizState,n=e.setQuizAllType,r=e.quizQuestion,i=e.checkAnswer,l=e.getQuestion,u=e.resetQuizGame,o=Object(s.useRef)(null);return Object(s.useImperativeHandle)(t,(function(){return{buttonRefs:o}})),Object(m.jsx)("main",{className:"App-main",children:a.startQuiz?Object(m.jsx)(x,{ref:o,quizState:a,quizQuestion:r,checkAnswer:i,getQuestion:l}):a.endQuiz?Object(m.jsx)(y,{quizState:a,resetQuizGame:u}):Object(m.jsx)(p,{quizState:a,setQuizState:c,getQuestion:l,setQuizAllType:n})})})),g=function(){return Object(m.jsx)("footer",{className:"App-footer",children:Object(m.jsxs)("small",{className:"copyright",children:["created by ",Object(m.jsx)("b",{children:Object(m.jsx)("a",{href:"https://github.com/gitraya",target:"_blank",rel:"noreferrer",children:"gitraya"})}),"- devChallenges.io"]})})},z=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({question:{capital:"",flag:""},answer:{trueAnswer:"",falseAnswer:[]},option:[],alfabet:["A","B","C","D"]}),r=Object(j.a)(n,2),i=r[0],b=r[1],d=Object(s.useState)({startQuiz:!1,endQuiz:!1,level:30,stage:0,score:0,type:{capital:!0,flag:!1},isTrue:!1,isFalse:!1}),f=Object(j.a)(d,2),p=f[0],O=f[1],x=Object(s.useState)(!1),y=Object(j.a)(x,2),z=y[0],N=y[1],q=Object(s.useRef)(null),w=function(){var e=p.level;p.stage!==e+1||O(Object(o.a)(Object(o.a)({},p),{},{startQuiz:!1,endQuiz:!0}))},k=function(){var e=Math.random()<.5;return z&&O(Object(o.a)(Object(o.a)({},p),{},{type:{capital:e,flag:!e},isTrue:!1,isFalse:!1})),h(a,i,b)},Q=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(o.a)(Object(o.a)({},p),{},{startQuiz:!0,endQuiz:!1,isFalse:!1,isTrue:!1,stage:p.stage+=1}));case 2:k(),w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==i.answer.trueAnswer){e.next=6;break}return e.next=3,O(Object(o.a)(Object(o.a)({},p),{},{isFalse:!1,isTrue:!0,score:p.score+=1}));case 3:return e.abrupt("return",t.target.classList.add("true"));case 6:return e.next=8,O(Object(o.a)(Object(o.a)({},p),{},{isFalse:!0,isTrue:!1}));case 8:return q.current.buttonRefs.current.buttonRefs.map((function(e){return e.current.querySelector(".answer-text").innerText===i.answer.trueAnswer?(e.current.querySelector("i").innerText="check_circle_outline",e.current.className="answer-button true"):e})),e.abrupt("return",t.target.classList.add("false"));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.eu/rest/v2/all").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(!a)return A()}),[a]),Object(m.jsxs)("div",{className:"App",style:{backgroundImage:"url(".concat("/country-quiz/images/background.png",")")},children:[Object(m.jsx)(v,{ref:q,quizState:p,setQuizState:O,quizQuestion:i,setQuizQuestion:b,setQuizAllType:N,checkAnswer:S,resetQuizGame:function(){b({question:{capital:"",flag:""},answer:{trueAnswer:"",falseAnswer:[]},option:[],alfabet:["A","B","C","D"]}),O({startQuiz:!1,endQuiz:!1,level:30,stage:0,score:0,type:{capital:!0,flag:!1},isTrue:!1,isFalse:!1}),N(!1)},getQuestion:Q}),Object(m.jsx)(g,{})]})};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4e632d3a.chunk.js.map